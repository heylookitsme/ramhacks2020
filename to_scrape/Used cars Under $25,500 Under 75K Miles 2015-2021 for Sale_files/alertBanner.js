!function(n){var e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(r,a,function(e){return n[e]}.bind(null,a));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/shared/",t(t.s=56)}({56:function(n,e,t){"use strict";var r,a,i;t.r(e),function(n){n.Info="INFO",n.Cleaning="CLEANING",n.Close="CLOSE",n.Storefront="STOREFRONT"}(r||(r={})),function(n){n.Dark="DARK",n.Urgent="URGENT"}(a||(a={}));var o=30,l=2592e6,s="kmx-dismissed-alert-banners",c="kmxAlertBannersLoaded",d="kmxRegisterAlertBanners",u="KmxVisitor_0",f="#ffffff",h="Lato, Corbel, ‘Lucida Grande’, ‘Lucida Sans Unicode’, ‘DejaVu Sans’, ‘Bitstream Vera Sans’, ‘Liberation Sans’, Verdana, ‘Verdana Ref’, sans-serif",g="400",p="700",m={alertBanner:{id:"alert-banner",containerClass:"alert-banner-container",detailsClass:"alert-banner-details",headerClass:"alert-banner-header",messageClass:"alert-banner-message",descriptionClass:"alert-banner-description",textColor:f,backgroundColor:"#0559ad",darkBackgroundColor:"#2a343d",urgentBackgroundColor:"#e01f1f"},icons:{baseClass:"alert-banner-icon",infoIconClass:"alert-banner-info-icon",cleaningIconClass:"alert-banner-cleaning-icon",storefrontIconClass:"alert-banner-storefront-icon",closeIconClass:"alert-banner-close-icon",width:"24px",height:"24px",fill:"#ffd900",darkFill:"#f0f1f2",urgentFill:f},closeButton:{id:"alert-banner-close-button",class:"alert-banner-close-button",iconWidth:"24px",iconHeight:"24px",iconFill:f}},v=((i={})[r.Info]=function(n){return'<svg fill="'+n+'" class="'+m.icons.baseClass+" "+m.icons.infoIconClass+'" width="'+m.icons.width+'" height="'+m.icons.height+'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M0 0h24v24H0z" fill="none"></path><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></svg>'},i[r.Cleaning]=function(n){return'<svg class="'+m.icons.baseClass+" "+m.icons.cleaningIconClass+'" width="'+m.icons.width+'" height="'+m.icons.height+'" viewBox="0 0 20.56 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><g><g><path d="M10.35,9a3.47,3.47,0,0,0,1.5,2.05,3.81,3.81,0,0,1,.55.46,19.12,19.12,0,0,0-1.26,2.39,5.85,5.85,0,0,0-.58,2.22,6.23,6.23,0,0,0,2.6,5l.07,0-.09.38c-.16.64-.36,1.34-.59,2.1a.51.51,0,0,1-.43.36H5.71a.56.56,0,0,1-.36-.12,5.94,5.94,0,0,1-2.18-4.21,37,37,0,0,1,0-7.17c.15-1.06,1-2.1,2.28-3.28L5.71,9Z" transform="translate(-1.44)" fill="'+n+'" fill-rule="evenodd"/><path d="M11.75,1c0,.32.84.73.68.81a5.34,5.34,0,0,0,2,3.17c.21.17.59.25.59.49h0L14.69,6a3.69,3.69,0,0,1-1,0A6.19,6.19,0,0,1,10,3.7,15.78,15.78,0,0,1,9,2.2l0,0Z" transform="translate(-1.44)" fill="'+n+'" fill-rule="evenodd"/><path d="M17.5,8c3.7,4.6,4.5,6.74,4.5,7.73A4.4,4.4,0,0,1,17.5,20a4.66,4.66,0,0,1-1.13-.14,4.52,4.52,0,0,1-1.56-.71A4.19,4.19,0,0,1,13,15.73a3.94,3.94,0,0,1,.37-1.48,13.7,13.7,0,0,1,.82-1.61A39.48,39.48,0,0,1,17.5,8Zm1.05,7a1.81,1.81,0,0,1-.45,1.07,2.45,2.45,0,0,1-1.1.62h0l.73,2.09a3.9,3.9,0,0,0,2.1-1.28,3.7,3.7,0,0,0,.89-2.36h0Z" transform="translate(-1.44)" fill="'+n+'" fill-rule="evenodd"/><path d="M15,2c-2.09.57-4.64,1.38-4.64,5H5.66c0-2.94-2.07-3.18-4.22-3.5A6.8,6.8,0,0,1,6.15,0H16V1.67L15,2Z" transform="translate(-1.44)" fill="'+n+'" fill-rule="evenodd"/></g></g></svg>'},i[r.Storefront]=function(n){return'<svg class="'+m.icons.baseClass+" "+m.icons.infoIconClass+'" width="'+m.icons.width+'" height="'+m.icons.height+'"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.03 23.96"><g id="Layer_2" data-name="Layer 2"><g id="Layer_3" data-name="Layer 3"><rect fill="'+n+'" y="10.91" width="4.02" height="10.96"/><rect fill="'+n+'" x="20" y="10.91" width="4.02" height="10.96"/><polygon fill="'+n+'" points="12.01 6.89 4.02 6.89 8.02 3.44 12.01 0 16.01 3.44 20 6.89 12.01 6.89"/><rect fill="'+n+'" x="6.02" y="16.86" width="11.99" height="7.1"/><rect fill="'+n+'" x="6.02" y="8.89" width="11.99" height="6.01"/></g></g></svg>'},i[r.Close]=function(n){return'<svg fill="'+n+'" class="'+m.icons.closeIconClass+'" width="'+m.closeButton.iconWidth+'" height="'+m.closeButton.iconHeight+'" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},i),b=function(n,e){var t,i,o,l;if(!document.querySelector("#"+m.alertBanner.id)){t=n.type,i=t===a.Dark?m.alertBanner.darkBackgroundColor:t===a.Urgent?m.alertBanner.urgentBackgroundColor:m.alertBanner.backgroundColor,o=t===a.Urgent?p:g,(l=document.createElement("style")).type="text/css",l.innerHTML="\n        #"+m.alertBanner.id+" {\n            position: relative;\n            background-color: "+i+";\n            padding: 16px;\n        }\n\n        #"+m.alertBanner.id+" ."+m.alertBanner.containerClass+" {\n            max-width: 1200px;\n            margin: auto;\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        #"+m.alertBanner.id+" ."+m.alertBanner.detailsClass+" {\n            display: flex;\n            flex-direction: row;\n            justify-content: start;\n            align-items: center;\n        }\n\n        #"+m.alertBanner.id+" ."+m.alertBanner.messageClass+" {\n            display: flex;\n            flex-direction: column;\n            justify-content: start;\n            align-items: start;\n        }\n\n        #"+m.alertBanner.id+" a {\n            color: "+m.alertBanner.textColor+";\n          }\n\n        #"+m.alertBanner.id+" ."+m.icons.baseClass+" {\n            align-self: start;\n            min-width: "+m.icons.width+";\n            min-height: "+m.icons.height+";\n            margin-right: 12px;\n        }\n\n        #"+m.alertBanner.id+" ."+m.closeButton.class+" {\n            align-self: start;\n            outline: none;\n            border: none;\n            cursor: pointer;\n            font-family: inherit;\n            font-size: inherit;\n            color: inherit;\n            background-color: transparent;\n            margin: 0 0 0 12px;\n            padding: 0;\n        }\n\n        #"+m.alertBanner.id+" ."+m.closeButton.class+":focus {\n            outline-color: white;\n            outline-style: auto;\n            outline-width: medium;\n            outline-width: initial;\n        }\n\n        #"+m.alertBanner.id+" ."+m.icons.closeIconClass+" {\n            min-width: "+m.closeButton.iconWidth+";\n            min-height: "+m.closeButton.iconHeight+";\n        }\n\n        @media only screen and (min-width: 600px) {\n            #"+m.alertBanner.id+" ."+m.icons.baseClass+" {\n                align-self: center;\n            }\n\n            #"+m.alertBanner.id+" ."+m.closeButton.class+" {\n                align-self: center;\n            }\n        }\n\n        #"+m.alertBanner.id+" ."+m.alertBanner.headerClass+" {\n            font-weight: "+p+";\n            font-family: "+h+";\n            letter-spacing: normal;\n            font-size: 16px;\n            line-height: 1.5625;\n            color: "+m.alertBanner.textColor+";\n            margin: 0;\n        }\n\n        #"+m.alertBanner.id+" ."+m.alertBanner.descriptionClass+" {\n            font-weight: "+o+";\n            font-family: "+h+";\n            letter-spacing: normal;\n            font-size: 16px;\n            line-height: 1.5625;\n            color: "+m.alertBanner.textColor+";\n            margin: 0;\n        }",document.getElementsByTagName("head")[0].appendChild(l);var s=n.type===a.Dark?m.icons.darkFill:n.type===a.Urgent?m.icons.urgentFill:m.icons.fill,c='<aside id="'+m.alertBanner.id+'">\n            <div class="'+m.alertBanner.containerClass+'">\n                <div class="'+m.alertBanner.detailsClass+'">\n                    '+(n.icon?v[n.icon](s):"")+'\n                    <div class="'+m.alertBanner.messageClass+'">\n                        '+(n.header?'<p class="'+m.alertBanner.headerClass+'">'+n.header+"</p>":"")+'\n                        <p class="'+m.alertBanner.descriptionClass+'">'+n.body+"</p>\n                    </div>\n                </div>\n                "+(!1===n.dismissable?"":'<button id="'+m.closeButton.id+'" class="'+m.closeButton.class+'" aria-haspopup="false" aria-controls="alert-banner" aria-label="Dismiss alert banner">\n                            '+v[r.Close](m.closeButton.iconFill)+"\n                        </button>")+"\n            </div>\n        </aside>",d=document.querySelector(n.previousSiblingElSelector);if(d){d.insertAdjacentHTML("afterend",c);var u=document.querySelector("#"+m.alertBanner.id+" #"+m.closeButton.id);u&&(u.onclick=function(){!function(){var n=document.querySelector("#"+m.alertBanner.id);n&&n.parentNode&&n.parentNode.removeChild(n)}(),e()})}}},B=function(n){var e={allIds:[],byId:{}};return n.forEach((function(n){e.allIds.push(n.id),e.byId[n.id]={expires:n.expires}})),e},x=function(n){return n.length>o&&(n.sort((function(n,e){var t=n.expires;return e.expires-t})),n.pop()),n},w=function(n,e){var t=-1;return e.forEach((function(e,r){e.id===n&&(t=r)})),t>-1&&e.splice(t,t+1),e},C=function(n){var e=(new Date).getTime(),t=[];return n.forEach((function(n){n.expires&&n.expires>e&&t.push(n)})),t},y=function(){try{var n=localStorage.getItem(s);if(n){var e=JSON.parse(n);return e||[]}return[]}catch(n){return console.error("Error getting dismissed alert banner ids from localStorage: ",n),[]}},S=function(n){try{localStorage.setItem(s,JSON.stringify(n))}catch(n){console.error("Error setting dismissed alert banner ids to localStorage: ",n)}},I=function(n){return!!(n.id&&n.body&&n.previousSiblingElSelector&&n.pathnameRegexList&&n.pathnameRegexList.length>0&&n.pathnameRegexList[0].test)};t.d(e,"handleRegisterAlertBannersEvent",(function(){return L})),t.d(e,"init",(function(){return k}));var L=function(n){var e,t,r=function(n,e,t){return n.filter((function(n){return I(n)})).filter((function(n){return function(n,e){var t=!1;return e.forEach((function(e){if(!t){var r=n.match(e);t=!!(r&&r.length>0)}})),t}(e,n.pathnameRegexList)})).filter((function(n){return function(n,e){return void 0===e&&(e=[]),!(e.length>0)||e.indexOf(n)>-1}(t,n.includedNearestStoreIds)})).filter((function(n){return function(n,e){return void 0===e&&(e=[]),!(e.length>0)||1===e.indexOf(n)}(t,n.excludedNearestStoreIds)}))}(n,window.location.pathname,function(){try{return document.cookie.split(u+"=")[1].split(";")[0].split("StoreId=")[1].substring(0,4)}catch(n){return""}}());if(1===r.length){var a=r[0].id;-1===(e=y(),t=C(e),S(t),B(t)).allIds.indexOf(a)&&b(r[0],(function(){!function(n){var e=y(),t=C(e);(t=w(n,t)).push({id:n,expires:(new Date).getTime()+l}),t=x(t),S(t)}(a)}))}else r.length>1&&console.error("Multiple alert banners registered for page: ",r)},k=function(){var n,e;n=L,document.documentElement.addEventListener(d,(function(e){var t=e.detail;t.alertBanners&&t.alertBanners.length>0&&n(t.alertBanners)})),e=new CustomEvent(c,{detail:{}}),document.documentElement.dispatchEvent(e)};k()}});
//# sourceMappingURL=alertBanner.js.map